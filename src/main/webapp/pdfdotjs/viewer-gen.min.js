"use strict";var kDefaultScale="auto";var kDefaultScaleDelta=1.1;var kUnknownScale=0;var kCacheSize=20;var kCssUnits=96/72;var kScrollbarPadding=40;var kMinScale=0.25;var kMaxScale=4;var kImageDirectory="./images/";var kSettingsMemory=20;var RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};var mozL10n=document.mozL10n||document.webL10n;function getFileName(C){var B=C.indexOf("#");var D=C.indexOf("?");var A=Math.min(B>0?B:C.length,D>0?D:C.length);return C.substring(C.lastIndexOf("/",A)+1,A)}var Cache=function cacheCache(A){var B=[];this.push=function C(D){var E=B.indexOf(D);if(E>=0){B.splice(E)}B.push(D);if(B.length>A){B.shift().destroy()}}};var ProgressBar=(function ProgressBarClosure(){function C(E,F,D){return Math.min(Math.max(E,F),D)}function A(E,D){this.div=document.querySelector(E+" .progress");this.height=D.height||100;this.width=D.width||100;this.units=D.units||"%";this.percent=D.percent||0;this.div.style.height=this.height+this.units}A.prototype={updateBar:function B(){var D=this.width*this._percent/100;if(this._percent>95){this.div.classList.add("full")}this.div.style.width=D+this.units},get percentfunction(){return this._percent},set percentfunction(D){this._percent=C(D,0,100);this.updateBar()}};return A})();var FirefoxCom=(function FirefoxComClosure(){return{requestSync:function(E,D){var C=document.createTextNode("");C.setUserData("action",E,null);C.setUserData("data",D,null);C.setUserData("sync",true,null);document.documentElement.appendChild(C);var B=document.createEvent("Events");B.initEvent("pdf.js.message",true,false);C.dispatchEvent(B);var A=C.getUserData("response");document.documentElement.removeChild(C);return A},request:function(E,D,F){var B=document.createTextNode("");B.setUserData("action",E,null);B.setUserData("data",D,null);B.setUserData("sync",false,null);if(F){B.setUserData("callback",F,null);document.addEventListener("pdf.js.response",function C(I){var H=I.target,J=H.getUserData("callback"),G=H.getUserData("response");document.documentElement.removeChild(H);document.removeEventListener("pdf.js.response",C,false);return J(G)},false)}document.documentElement.appendChild(B);var A=document.createEvent("HTMLEvents");A.initEvent("pdf.js.message",true,false);return B.dispatchEvent(A)}}})();var Settings=(function SettingsClosure(){var A=(function B(){try{return"localStorage" in window&&window.localStorage!==null&&localStorage}catch(G){return false}})();var F=PDFJS.isFirefoxExtension;function D(H){var L=null;var G;if(F){L=FirefoxCom.requestSync("getDatabase",null)||"{}"}else{if(A){L=localStorage.getItem("database")||"{}"}else{return false}}L=JSON.parse(L);if(!("files" in L)){L.files=[]}if(L.files.length>=kSettingsMemory){L.files.shift()}for(var I=0,K=L.files.length;I<K;I++){var J=L.files[I];if(J.fingerprint==H){G=I;break}}if(typeof G!="number"){G=L.files.push({fingerprint:H})-1}this.file=L.files[G];this.database=L}D.prototype={set:function C(G,J){if(!("file" in this)){return false}var H=this.file;H[G]=J;var I=JSON.stringify(this.database);if(F){FirefoxCom.requestSync("setDatabase",I)}else{if(A){localStorage.setItem("database",I)}}},get:function E(H,G){if(!("file" in this)){return G}return this.file[H]||G}};return D})();var cache=new Cache(kCacheSize);var currentPageNumber=1;var PDFView={pages:[],thumbnails:[],currentScale:kUnknownScale,currentScaleValue:null,initialBookmark:document.location.hash.substring(1),startedTextExtraction:false,pageText:[],container:null,thumbnailContainer:null,initialized:false,fellback:false,pdfDocument:null,sidebarOpen:false,pageViewScroll:null,thumbnailViewScroll:null,initialize:function pdfViewInitialize(){var A=this.container=document.getElementById("viewerContainer");this.pageViewScroll={};this.watchScroll(A,this.pageViewScroll,updateViewarea);var B=this.thumbnailContainer=document.getElementById("thumbnailView");this.thumbnailViewScroll={};this.watchScroll(B,this.thumbnailViewScroll,this.renderHighestPriority.bind(this));this.initialized=true},watchScroll:function pdfViewWatchScroll(D,B,C){B.down=true;B.lastY=D.scrollTop;D.addEventListener("scroll",function A(F){var E=D.scrollTop;var G=B.lastY;if(E>G){B.down=true}else{if(E<G){B.down=false}}B.lastY=E;C()},true)},setScale:function pdfViewSetScale(F,C,E){if(F==this.currentScale){return }var A=this.pages;for(var B=0;B<A.length;B++){A[B].update(F*kCssUnits)}if(!E&&this.currentScale!=F){this.pages[this.page-1].scrollIntoView()}this.currentScale=F;var D=document.createEvent("UIEvents");D.initUIEvent("scalechange",false,false,window,0);D.scale=F;D.resetAutoSettings=C;window.dispatchEvent(D)},parseScale:function pdfViewParseScale(G,E,F){if("custom"==G){return }var H=parseFloat(G);this.currentScaleValue=G;if(H){this.setScale(H,true,F);return }var C=this.container;var D=this.pages[this.page-1];var B=(C.clientWidth-kScrollbarPadding)/D.width*D.scale/kCssUnits;var A=(C.clientHeight-kScrollbarPadding)/D.height*D.scale/kCssUnits;switch(G){case"page-actual":H=1;break;case"page-width":H=B;break;case"page-height":H=A;break;case"page-fit":H=Math.min(B,A);break;case"auto":H=Math.min(1,B);break}this.setScale(H,E,F);selectScaleOption(G)},zoomIn:function pdfViewZoomIn(){var A=(this.currentScale*kDefaultScaleDelta).toFixed(2);A=Math.min(kMaxScale,A);this.parseScale(A,true)},zoomOut:function pdfViewZoomOut(){var A=(this.currentScale/kDefaultScaleDelta).toFixed(2);A=Math.max(kMinScale,A);this.parseScale(A,true)},set pagefunction(D){var A=this.pages;var B=document.getElementById("pageNumber");if(pagestart!=""){if(D<pagestart){return }}if(!(0<D&&D<=A.length)){var C=document.createEvent("UIEvents");C.initUIEvent("pagechange",false,false,window,0);C.pageNumber=this.page;window.dispatchEvent(C);return }A[D-1].updateStats();currentPageNumber=D;var C=document.createEvent("UIEvents");C.initUIEvent("pagechange",false,false,window,0);C.pageNumber=D;window.dispatchEvent(C);if(updateViewarea.inProgress){return }if(this.loading&&D==1){return }A[D-1].scrollIntoView()},get pagefunction(){return currentPageNumber},get supportsPrintingfunction(){var A=document.createElement("canvas");var B="mozPrintCallback" in A;Object.defineProperty(this,"supportsPrinting",{value:B,enumerable:true,configurable:true,writable:false});return B},open:function pdfViewOpen(D,H,C){var F={password:C};if(typeof D==="string"){this.url=D;document.title=decodeURIComponent(getFileName(D))||D;F.url=D}else{if(D&&"byteLength" in D){F.data=D}}if(!PDFView.loadingBar){PDFView.loadingBar=new ProgressBar("#loadingBar",{})}this.pdfDocument=null;var B=this;B.loading=true;PDFJS.getDocument(F).then(function G(I){B.load(I,H);B.loading=false},function E(L,K){if(K&&K.name==="PasswordException"){if(K.code==="needpassword"){var I=mozL10n.get("request_password",null,"PDF is protected by a password:");C=prompt(I);if(C&&C.length>0){return PDFView.open(D,H,C)}}}var M=document.getElementById("loading");M.textContent=mozL10n.get("loading_error_indicator",null,"Sorry, we were unable to find the document at the original source. Verify that the document still exists.");var J={message:L};B.error(mozL10n.get("loading_error",null,"An error occurred while loading the PDF."),J);B.loading=false},function A(I){B.progress(I.loaded/I.total)})},download:function pdfViewDownload(){function A(){FirefoxCom.request("download",{originalUrl:B})}var B=this.url.split("#")[0];if(PDFJS.isFirefoxExtension){if(!this.pdfDocument){A();return }this.pdfDocument.getData().then(function C(F){var G=new MozBlobBuilder();G.append(F.buffer);var E=window.URL.createObjectURL(G.getBlob("application/pdf"));FirefoxCom.request("download",{blobUrl:E,originalUrl:B},function D(H){if(H){PDFView.error("PDF failed to download.")}window.URL.revokeObjectURL(E)})},A)}else{B+="#pdfjs.action=download","_parent";window.open(B,"_parent")}},fallback:function pdfViewFallback(){if(!PDFJS.isFirefoxExtension){return }if(this.fellback){return }this.fellback=true;var B=this.url.split("#")[0];FirefoxCom.request("fallback",B,function A(C){if(!C){return }PDFView.download()})},navigateTo:function pdfViewNavigateTo(B){if(typeof B==="string"){B=this.destinations[B]}if(!(B instanceof Array)){return }var D=B[0];var A=D instanceof Object?this.pagesRefMap[D.num+" "+D.gen+" R"]:(D+1);if(A>this.pages.length){A=this.pages.length}if(A){this.page=A;var C=this.pages[A-1];C.scrollIntoView(B)}},getDestinationHash:function pdfViewGetDestinationHash(C){if(typeof C==="string"){return PDFView.getAnchorUrl("#"+escape(C))}if(C instanceof Array){var F=C[0];var A=F instanceof Object?this.pagesRefMap[F.num+" "+F.gen+" R"]:(F+1);if(A){var B=PDFView.getAnchorUrl("#page="+A);var D=C[1];if(typeof D==="object"&&"name" in D&&D.name=="XYZ"){var E=(C[4]||this.currentScale);B+="&zoom="+(E*100);if(C[2]||C[3]){B+=","+(C[2]||0)+","+(C[3]||0)}}return B}}return""},getAnchorUrl:function getAnchorUrl(A){if(PDFJS.isFirefoxExtension){return this.url.split("#")[0]+A}return A},error:function pdfViewError(I,D){var E=mozL10n.get("error_build",{build:PDFJS.build},"PDF.JS Build: {{build}}")+"\n";if(D){E+=mozL10n.get("error_message",{message:D.message},"Message: {{message}}");if(D.stack){E+="\n"+mozL10n.get("error_stack",{stack:D.stack},"Stack: {{stack}}")}else{if(D.filename){E+="\n"+mozL10n.get("error_file",{file:D.filename},"File: {{file}}")}if(D.lineNumber){E+="\n"+mozL10n.get("error_line",{line:D.lineNumber},"Line: {{line}}")}}}if(PDFJS.isFirefoxExtension){console.error(I+"\n"+E);this.fallback();return }var G=document.getElementById("errorWrapper");var F=document.getElementById("errorMessage");F.textContent=I;var A=document.getElementById("errorClose");A.onclick=function(){G.setAttribute("hidden","true")};var H=document.getElementById("errorMoreInfo");var B=document.getElementById("errorShowMore");var C=document.getElementById("errorShowLess");B.onclick=function(){H.removeAttribute("hidden");B.setAttribute("hidden","true");C.removeAttribute("hidden")};C.onclick=function(){H.setAttribute("hidden","true");B.removeAttribute("hidden");C.setAttribute("hidden","true")};B.removeAttribute("hidden");C.setAttribute("hidden","true");H.value=E;H.rows=E.split("\n").length-1},progress:function pdfViewProgress(B){var A=Math.round(B*100);PDFView.loadingBar.percent=A},load:function pdfViewLoad(O,V){function Q(Z,X){Z.onAfterDraw=function Y(){X.setImage(Z.canvas)}}this.pdfDocument=O;var K=document.getElementById("errorWrapper");K.setAttribute("hidden","true");var U=document.getElementById("loadingBox");U.setAttribute("hidden","true");var S=document.getElementById("loading");S.textContent="";var A=document.getElementById("thumbnailView");A.parentNode.scrollTop=0;while(A.hasChildNodes()){A.removeChild(A.lastChild)}if("_loadingInterval" in A){clearInterval(A._loadingInterval)}var L=document.getElementById("viewer");while(L.hasChildNodes()){L.removeChild(L.lastChild)}if(pagesCount!=""){pagesCount=pagesCount}else{pagesCount=O.numPages}var P=O.fingerprint;var F=null;document.getElementById("numPages").textContent=mozL10n.get("page_of",{pageCount:pagesCount},"of {{pageCount}}");document.getElementById("pageNumber").max=pagesCount;PDFView.documentFingerprint=P;var G=PDFView.store=new Settings(P);if(G.get("exists",false)){var E=G.get("page","1");var C=G.get("zoom",PDFView.currentScale);var D=G.get("scrollLeft","0");var M=G.get("scrollTop","0");F="page="+E+"&zoom="+C+","+D+","+M}var J=this.pages=[];this.pageText=[];this.startedTextExtraction=false;var I={};var B=this.thumbnails=[];var H=[];for(var T=1;T<=pagesCount;T++){H.push(O.getPage(T))}var N=this;var R=PDFJS.Promise.all(H);R.then(function(c){for(var X=1;X<=pagesCount;X++){var Y=c[X-1];var a=new PageView(L,Y,X,V,Y.stats,N.navigateTo.bind(N));var Z=new ThumbnailView(A,Y,X);Q(a,Z);J.push(a);B.push(Z);var b=Y.ref;I[b.num+" "+b.gen+" R"]=X}N.pagesRefMap=I});var W=O.getDestinations();W.then(function(X){N.destinations=X});PDFJS.Promise.all([R,W]).then(function(){O.getOutline().then(function(X){N.outline=new DocumentOutlineView(X)});N.setInitialView(F,V)});O.getMetadata().then(function(Z){var a=Z.info,Y=Z.metadata;N.documentInfo=a;N.metadata=Y;var X;if(Y){if(Y.has("dc:title")){X=Y.get("dc:title")}}if(!X&&a&&a.Title){X=a.Title}if(X){document.title=X+" - "+document.title}})},setInitialView:function pdfViewSetInitialView(B,A){this.currentScale=0;this.currentScaleValue=null;if(this.initialBookmark){this.setHash(this.initialBookmark);this.initialBookmark=null}else{if(B){this.setHash(B)}else{if(A){this.parseScale(A,true);this.page=1}}}if(PDFView.currentScale===kUnknownScale){this.parseScale(kDefaultScale,true)}},renderHighestPriority:function pdfViewRenderHighestPriority(){var D=this.getVisiblePages();var C=this.getHighestPriority(D,this.pages,this.pageViewScroll.down);if(C){this.renderView(C,"page");return }if(this.sidebarOpen){var A=this.getVisibleThumbs();var B=this.getHighestPriority(A,this.thumbnails,this.thumbnailViewScroll.down);if(B){this.renderView(B,"thumbnail")}}},getHighestPriority:function pdfViewGetHighestPriority(B,H,C){var I=B.length;if(I===0){info("No visible views.");return false}for(var D=0;D<I;++D){var F=B[D].view;if(!this.isViewFinshed(F)){return F}}if(C){var E=B[B.length-1];var G=E.id;if(H[G]&&!this.isViewFinshed(H[G])){return H[G]}}else{var A=B[0].id-2;if(H[A]&&!this.isViewFinshed(H[A])){return H[A]}}return false},isViewFinshed:function pdfViewNeedsRendering(A){return A.renderingState===RenderingStates.FINISHED},renderView:function pdfViewRender(A,B){var C=A.renderingState;switch(C){case RenderingStates.FINISHED:return false;case RenderingStates.PAUSED:PDFView.highestPriorityPage=B+A.id;A.resume();break;case RenderingStates.RUNNING:PDFView.highestPriorityPage=B+A.id;break;case RenderingStates.INITIAL:PDFView.highestPriorityPage=B+A.id;A.draw(this.renderHighestPriority.bind(this));break}return true},search:function pdfViewStartSearch(){var D=250;var M=this.lastSearch;var A=Date.now();if(M&&(A-M)<D){if(!this.searchTimer){this.searchTimer=setTimeout(function B(){PDFView.search()},D-(A-M))}return }this.searchTimer=null;this.lastSearch=A;function J(U,S){U.href="#"+S;U.onclick=function T(){PDFView.page=S;return false}}var I=document.getElementById("searchResults");var E=document.getElementById("searchTermsInput");I.removeAttribute("hidden");I.textContent="";var H=E.value;if(!H){return }H=H.replace(/\s-/g,"").toLowerCase();var F=PDFView.pageText;var O=false;for(var P=0,K=F.length;P<K;P++){var Q=F[P].replace(/\s-/g,"").toLowerCase();var N=Q.indexOf(H);if(N<0){continue}var R=P+1;var C=F[P].substr(N,50);var G=document.createElement("a");J(G,R);G.textContent="Page "+R+": "+C;I.appendChild(G);O=true}if(!O){I.textContent="";var L=document.createElement("div");L.classList.add("noResults");L.textContent=mozL10n.get("search_terms_not_found",null,"(Not found)");I.appendChild(L)}},setHash:function pdfViewSetHash(E){if(!E){return }if(E.indexOf("=")>=0){var G=PDFView.parseQueryString(E);if("nameddest" in G){PDFView.navigateTo(G.nameddest);return }if("page" in G){var A=(G.page|0)||1;this.page=A;if("zoom" in G){var H=G.zoom.split(",");var F=H[0];var D=parseFloat(F);if(D){F=D/100}var B=[null,{name:"XYZ"},(H[1]|0),(H[2]|0),F];var C=this.pages[A-1];C.scrollIntoView(B)}else{this.page=G.page}return }}else{if(/^\d+$/.test(E)){this.page=E}else{PDFView.navigateTo(unescape(E))}}},switchSidebarView:function pdfViewSwitchSidebarView(B){var A=document.getElementById("thumbnailView");var F=document.getElementById("outlineView");var H=document.getElementById("searchView");var E=document.getElementById("viewThumbnail");var G=document.getElementById("viewOutline");var D=document.getElementById("viewSearch");switch(B){case"thumbs":E.classList.add("toggled");G.classList.remove("toggled");D.classList.remove("toggled");A.classList.remove("hidden");F.classList.add("hidden");H.classList.add("hidden");PDFView.renderHighestPriority();break;case"outline":E.classList.remove("toggled");G.classList.add("toggled");D.classList.remove("toggled");A.classList.add("hidden");F.classList.remove("hidden");H.classList.add("hidden");if(G.getAttribute("disabled")){return }break;case"search":E.classList.remove("toggled");G.classList.remove("toggled");D.classList.add("toggled");A.classList.add("hidden");F.classList.add("hidden");H.classList.remove("hidden");var C=document.getElementById("searchTermsInput");C.focus();this.extractText();break}},extractText:function(){if(this.startedTextExtraction){return }this.startedTextExtraction=true;var A=this;function B(C){A.pages[C].pdfPage.getTextContent().then(function D(E){A.pageText[C]=E;A.search();if((C+1)<A.pages.length){B(C+1)}})}B(0)},getVisiblePages:function pdfViewGetVisiblePages(){return this.getVisibleElements(this.container,this.pages)},getVisibleThumbs:function pdfViewGetVisibleThumbs(){return this.getVisibleElements(this.thumbnailContainer,this.thumbnails)},getVisibleElements:function pdfViewGetVisibleElements(F,B){var H=0,A;var E=F.scrollTop;for(var D=1;D<=B.length;++D){A=B[D-1];H=A.el.offsetTop;if(H+A.el.clientHeight>E){break}H+=A.el.clientHeight}var G=[];var C=E+F.clientHeight;for(;D<=B.length&&H<C;++D){A=B[D-1];H=A.el.offsetTop;G.push({id:A.id,y:H,view:A});H+=A.el.clientHeight}return G},parseQueryString:function pdfViewParseQueryString(E){var F=E.split("&");var H={};for(var B=0,C=F.length;B<F.length;++B){var G=F[B].split("=");var A=G[0];var D=G.length>1?G[1]:null;H[unescape(A)]=unescape(D)}return H},beforePrint:function pdfViewSetupBeforePrint(){if(!this.supportsPrinting){var D=mozL10n.get("printing_not_supported",null,"Warning: Printing is not fully supported by this browser.");this.error(D);return }var A=document.querySelector("body");A.setAttribute("data-mozPrintCallback",true);for(var B=0,C=this.pages.length;B<C;++B){this.pages[B].beforePrint()}},afterPrint:function pdfViewSetupAfterPrint(){var A=document.getElementById("printContainer");while(A.hasChildNodes()){A.removeChild(A.lastChild)}}};var PageView=function pageView(H,F,K,Q,O,L){this.id=K;this.pdfPage=F;this.scale=Q||1;this.viewport=this.pdfPage.getViewport(this.scale);this.renderingState=RenderingStates.INITIAL;this.resume=null;var E=document.createElement("a");E.name=""+this.id;var J=this.el=document.createElement("div");J.id="pageContainer"+this.id;J.className="page";H.appendChild(E);H.appendChild(J);this.destroy=function G(){this.update();this.pdfPage.destroy()};this.update=function N(T){this.renderingState=RenderingStates.INITIAL;this.resume=null;this.scale=T||this.scale;var S=this.pdfPage.getViewport(this.scale);this.viewport=S;J.style.width=S.width+"px";J.style.height=S.height+"px";while(J.hasChildNodes()){J.removeChild(J.lastChild)}J.removeAttribute("data-loaded");delete this.canvas;this.loadingIconDiv=document.createElement("div");this.loadingIconDiv.className="loadingIcon";J.appendChild(this.loadingIconDiv);$(document).ready(function(){if(pagestart>1&&pagestart!=""){var V=0;for(V=1;V<pagestart;V++){var W="#thumbnailContainer"+V;var U="#pageContainer"+V;$(U).remove();$(W).remove()}}})};Object.defineProperty(this,"width",{get:function B(){return this.viewport.width},enumerable:true});Object.defineProperty(this,"height",{get:function I(){return this.viewport.height},enumerable:true});function P(V,S){function U(Z,Y){Z.href=PDFView.getDestinationHash(Y);Z.onclick=function X(){if(Y){PDFView.navigateTo(Y)}return false}}function T(Y,a){var Z=S.convertToViewportRectangle(a.rect);Z=PDFJS.Util.normalizeRect(Z);var X=document.createElement(Y);X.style.left=Math.floor(Z[0])+"px";X.style.top=Math.floor(Z[1])+"px";X.style.width=Math.ceil(Z[2]-Z[0])+"px";X.style.height=Math.ceil(Z[3]-Z[1])+"px";return X}function W(d,l){var Y=document.createElement("section");Y.className="annotComment";var Z=T("img",l);var d=l.type;var f=S.convertToViewportRectangle(l.rect);f=PDFJS.Util.normalizeRect(f);Z.src=kImageDirectory+"annotation-"+d.toLowerCase()+".svg";Z.alt=mozL10n.get("text_annotation_type",{type:d},"[{{type}} Annotation]");var c=document.createElement("div");c.setAttribute("hidden",true);var g=document.createElement("h1");var j=document.createElement("p");c.style.left=Math.floor(f[2])+"px";c.style.top=Math.floor(f[1])+"px";g.textContent=l.title;if(!l.content&&!l.title){c.setAttribute("hidden",true)}else{var b=document.createElement("span");var n=l.content.split("\n");for(var a=0,h=n.length;a<h;++a){var m=n[a];b.appendChild(document.createTextNode(m));if(a<(h-1)){b.appendChild(document.createElement("br"))}}j.appendChild(b);Z.addEventListener("mouseover",function X(){c.removeAttribute("hidden")},false);Z.addEventListener("mouseout",function k(){c.setAttribute("hidden",true)},false)}c.appendChild(g);c.appendChild(j);Y.appendChild(Z);Y.appendChild(c);return Y}V.getAnnotations().then(function(X){for(var Y=0;Y<X.length;Y++){var a=X[Y];switch(a.type){case"Link":var Z=T("a",a);Z.href=a.url||"";if(!a.url){U(Z,("dest" in a)?a.dest:null)}J.appendChild(Z);break;case"Text":var b=W(a.name,a);if(b){J.appendChild(b)}break;case"Widget":PDFView.fallback();break}}})}this.getPagePoint=function R(S,T){return this.viewport.convertToPdfPoint(S,T)};this.scrollIntoView=function A(a){if(!a){J.scrollIntoView(true);return }var Z=0,Y=0;var S=0,b=0,X,W;var V=0;switch(a[1].name){case"XYZ":Z=a[2];Y=a[3];V=a[4];break;case"Fit":case"FitB":V="page-fit";break;case"FitH":case"FitBH":Y=a[2];V="page-width";break;case"FitV":case"FitBV":Z=a[2];V="page-height";break;case"FitR":Z=a[2];Y=a[3];S=a[4]-Z;b=a[5]-Y;X=(this.container.clientWidth-kScrollbarPadding)/S/kCssUnits;W=(this.container.clientHeight-kScrollbarPadding)/b/kCssUnits;V=Math.min(X,W);break;default:return }if(V&&V!==PDFView.currentScale){PDFView.parseScale(V,true,true)}else{if(PDFView.currentScale===kUnknownScale){PDFView.parseScale(kDefaultScale,true,true)}}var U=[this.viewport.convertToViewportPoint(Z,Y),this.viewport.convertToViewportPoint(Z+S,Y+b)];setTimeout(function T(){var g=PDFView.currentScale;var d=Math.min(U[0][0],U[1][0]);var h=Math.min(U[0][1],U[1][1]);var f=Math.abs(U[0][0]-U[1][0]);var c=Math.abs(U[0][1]-U[1][1]);var e=document.createElement("div");e.style.position="absolute";e.style.left=Math.floor(d)+"px";e.style.top=Math.floor(h)+"px";e.style.width=Math.ceil(f)+"px";e.style.height=Math.ceil(c)+"px";J.appendChild(e);e.scrollIntoView(true);J.removeChild(e)},0)};this.draw=function M(c){if(this.renderingState!==RenderingStates.INITIAL){error("Must be in new state before drawing")}this.renderingState=RenderingStates.RUNNING;var T=document.createElement("canvas");T.id="page"+this.id;T.mozOpaque=true;J.appendChild(T);this.canvas=T;var X=null;if(!PDFJS.disableTextLayer){X=document.createElement("div");X.className="textLayer";J.appendChild(X)}var S=X?new TextLayerBuilder(X):null;var V=this.scale,Z=this.viewport;T.width=Z.width;T.height=Z.height;var e=T.getContext("2d");e.save();e.fillStyle="rgb(255, 255, 255)";e.fillRect(0,0,T.width,T.height);e.restore();var d=this;function a(f){d.renderingState=RenderingStates.FINISHED;if(d.loadingIconDiv){J.removeChild(d.loadingIconDiv);delete d.loadingIconDiv}if(f){PDFView.error(mozL10n.get("rendering_error",null,"An error occurred while rendering the page."),f)}d.stats=F.stats;d.updateStats();if(d.onAfterDraw){d.onAfterDraw()}cache.push(d);c()}var U={canvasContext:e,viewport:this.viewport,textLayer:S,continueCallback:function b(f){if(PDFView.highestPriorityPage!=="page"+d.id){d.renderingState=RenderingStates.PAUSED;d.resume=function g(){d.renderingState=RenderingStates.RUNNING;f()};return }f()}};this.pdfPage.render(U).then(function Y(){a(null)},function W(f){a(f)});P(this.pdfPage,this.viewport);J.setAttribute("data-loaded",true)};this.beforePrint=function C(){var W=this.pdfPage;var S=W.getViewport(1);var V=this.canvas=document.createElement("canvas");V.width=S.width;V.height=S.height;V.style.width=S.width+"pt";V.style.height=S.height+"pt";var U=document.getElementById("printContainer");U.appendChild(V);var T=this;V.mozPrintCallback=function(Z){var X=Z.context;var Y={canvasContext:X,viewport:S};W.render(Y).then(function(){Z.done();T.pdfPage.destroy()},function(a){console.error(a);if("abort" in object){Z.abort()}else{Z.done()}T.pdfPage.destroy()})}};this.updateStats=function D(){if(PDFJS.pdfBug&&Stats.enabled){var S=this.stats;Stats.add(this.id,S)}}};var ThumbnailView=function thumbnailView(F,D,J){var C=document.createElement("a");C.href=PDFView.getAnchorUrl("#page="+J);C.title=mozL10n.get("thumb_page_title",{page:J},"Page {{page}}");C.onclick=function L(){PDFView.page=J;return false};var M=D.getViewport(1);var Q=this.width=M.width;var E=this.height=M.height;var I=Q/E;this.id=J;var N=98;var A=N/this.width*this.height;var P=this.scaleX=(N/Q);var O=this.scaleY=(A/E);var H=this.el=document.createElement("div");H.id="thumbnailContainer"+J;H.className="thumbnail";C.appendChild(H);F.appendChild(C);this.hasImage=false;this.renderingState=RenderingStates.INITIAL;function B(){var U=document.createElement("canvas");U.id="thumbnail"+J;U.mozOpaque=true;U.width=N;U.height=A;U.className="thumbnailImage";U.setAttribute("aria-label",mozL10n.get("thumb_page_canvas",{page:J},"Thumbnail of Page {{page}}"));H.setAttribute("data-loaded",true);var T=document.createElement("div");T.className="thumbnailSelectionRing";T.appendChild(U);H.appendChild(T);var S=U.getContext("2d");S.save();S.fillStyle="rgb(255, 255, 255)";S.fillRect(0,0,N,A);S.restore();return S}this.drawingRequired=function G(){return !this.hasImage};this.draw=function R(Y){if(this.renderingState!==RenderingStates.INITIAL){error("Must be in new state before drawing")}this.renderingState=RenderingStates.RUNNING;if(this.hasImage){Y();return }var U=this;var S=B();var X=D.getViewport(P);var V={canvasContext:S,viewport:X,continueCallback:function(Z){if(PDFView.highestPriorityPage!=="thumbnail"+U.id){U.renderingState=RenderingStates.PAUSED;U.resume=function(){U.renderingState=RenderingStates.RUNNING;Z()};return }Z()}};D.render(V).then(function T(){U.renderingState=RenderingStates.FINISHED;Y()},function W(Z){U.renderingState=RenderingStates.FINISHED;Y()});this.hasImage=true};this.setImage=function K(T){if(this.hasImage||!T){return }this.renderingState=RenderingStates.FINISHED;var S=B();S.drawImage(T,0,0,T.width,T.height,0,0,S.canvas.width,S.canvas.height);this.hasImage=true}};var DocumentOutlineView=function documentOutlineView(A){var K=document.getElementById("outlineView");while(K.firstChild){K.removeChild(K.firstChild)}function D(N,O){N.href=PDFView.getDestinationHash(O.dest);N.onclick=function M(P){PDFView.navigateTo(O.dest);return false}}if(!A){var F=document.createElement("div");F.classList.add("noOutline");F.textContent=mozL10n.get("no_outline",null,"No Outline Available");K.appendChild(F);return }var H=[{parent:K,items:A}];while(H.length>0){var B=H.shift();var G,E=B.items.length;for(G=0;G<E;G++){var L=B.items[G];var C=document.createElement("div");C.className="outlineItem";var J=document.createElement("a");D(J,L);J.textContent=L.title;C.appendChild(J);if(L.items.length>0){var I=document.createElement("div");I.className="outlineItems";C.appendChild(I);H.push({parent:I,items:L.items})}B.parent.appendChild(C)}}};var CustomStyle=(function CustomStyleClosure(){var C=["ms","Moz","Webkit","O"];var D={};function B(){}B.getProp=function A(L,I){if(arguments.length==1&&typeof D[L]=="string"){return D[L]}I=I||document.documentElement;var J=I.style,F,K;if(typeof J[L]=="string"){return(D[L]=L)}K=L.charAt(0).toUpperCase()+L.slice(1);for(var H=0,G=C.length;H<G;H++){F=C[H]+K;if(typeof J[F]=="string"){return(D[L]=F)}}return(D[L]="undefined")};B.setProp=function E(G,F,H){var I=this.getProp(G);if(I!="undefined"){F.style[I]=H}};return B})();var TextLayerBuilder=function textLayerBuilder(D){this.textLayerDiv=D;this.beginLayout=function B(){this.textDivs=[];this.textLayerQueue=[]};this.endLayout=function A(){var N=this;var K=this.textDivs;var J=this.textLayerDiv;var E=null;var L=false;var M=0;var G=500;function F(){if(K.length===0){clearInterval(E);L=true;return }var P=K.shift();if(P.dataset.textLength>0){J.appendChild(P);if(P.dataset.textLength>1){var O=P.dataset.canvasWidth/P.offsetWidth;CustomStyle.setProp("transform",P,"scale("+O+", 1)");CustomStyle.setProp("transformOrigin",P,"0% 0%")}}}E=setInterval(F,M);var I=null;function H(){if(L){window.removeEventListener("scroll",H,false);return }clearInterval(E);clearTimeout(I);I=setTimeout(function O(){E=setInterval(F,M)},G)}window.addEventListener("scroll",H,false)};this.appendText=function C(I,G,H){var E=document.createElement("div");var F=H*I.geom.vScale;E.dataset.canvasWidth=I.canvasWidth*I.geom.hScale;E.dataset.fontName=G;E.style.fontSize=F+"px";E.style.left=I.geom.x+"px";E.style.top=(I.geom.y-F)+"px";E.textContent=PDFJS.bidi(I,-1);E.dir=I.direction;E.dataset.textLength=I.length;this.textDivs.push(E)}};window.addEventListener("load",function webViewerLoad(J){PDFView.initialize();var F=PDFView.parseQueryString(document.location.search.substring(1));var E=PDFJS.isFirefoxExtension?window.location.toString():F.file||kDefaultURL;if(PDFJS.isFirefoxExtension||!window.File||!window.FileReader||!window.FileList||!window.Blob){document.getElementById("openFile").setAttribute("hidden","true")}else{document.getElementById("fileInput").value=null}var G=document.location.hash.substring(1);var A=PDFView.parseQueryString(G);if("disableWorker" in A){PDFJS.disableWorker=(A.disableWorker==="true")}if(!PDFJS.isFirefoxExtension){var I=navigator.language;if("locale" in A){I=A.locale}mozL10n.language.code=I}if("disableTextLayer" in A){PDFJS.disableTextLayer=(A.disableTextLayer==="true")}if("pdfBug" in A&&(!PDFJS.isFirefoxExtension||FirefoxCom.requestSync("pdfBugEnabled"))){PDFJS.pdfBug=true;var D=A.pdfBug;var H=D.split(",");PDFBug.enable(H);PDFBug.init()}if(!PDFJS.isFirefoxExtension||(PDFJS.isFirefoxExtension&&FirefoxCom.requestSync("searchEnabled"))){document.querySelector("#viewSearch").classList.remove("hidden")}if(!PDFView.supportsPrinting){document.getElementById("print").classList.add("hidden")}PDFJS.LogManager.addLogger({warn:function(){PDFView.fallback()}});var B=document.getElementById("mainContainer");var C=document.getElementById("outerContainer");B.addEventListener("transitionend",function(L){if(L.target==B){var K=document.createEvent("UIEvents");K.initUIEvent("resize",false,false,window,0);window.dispatchEvent(K);C.classList.remove("sidebarMoving")}},true);document.getElementById("sidebarToggle").addEventListener("click",function(){this.classList.toggle("toggled");C.classList.add("sidebarMoving");C.classList.toggle("sidebarOpen");PDFView.sidebarOpen=C.classList.contains("sidebarOpen");PDFView.renderHighestPriority()});PDFView.open(E,0)},true);function updateViewarea(){if(!PDFView.initialized){return }var G=PDFView.getVisiblePages();PDFView.renderHighestPriority();updateViewarea.inProgress=true;var I=PDFView.page;var E=G[0];PDFView.page=E.id;updateViewarea.inProgress=false;var B=PDFView.currentScale;var C=PDFView.currentScaleValue;var H=C==B?B*100:C;var J=E.id;var D="#page="+J;D+="&zoom="+H;var F=PDFView.pages[J-1];var L=F.getPagePoint(PDFView.container.scrollLeft,(PDFView.container.scrollTop-E.y));D+=","+Math.round(L[0])+","+Math.round(L[1]);var K=PDFView.store;K.set("exists",true);K.set("page",J);K.set("zoom",H);K.set("scrollLeft",Math.round(L[0]));K.set("scrollTop",Math.round(L[1]));var A=PDFView.getAnchorUrl(D);document.getElementById("viewBookmark").href=A}window.addEventListener("resize",function webViewerResize(A){if(PDFView.initialized&&(document.getElementById("pageWidthOption").selected||document.getElementById("pageFitOption").selected||document.getElementById("pageAutoOption").selected)){PDFView.parseScale(document.getElementById("scaleSelect").value)}updateViewarea()});window.addEventListener("hashchange",function webViewerHashchange(A){PDFView.setHash(document.location.hash.substring(1))});window.addEventListener("change",function webViewerChange(B){var E=B.target.files;if(!E||E.length==0){return }var A=new FileReader();A.onload=function C(G){var J=G.target.result;var F=new ArrayBuffer(J.length);var I=new Uint8Array(F);for(var H=0;H<J.length;H++){I[H]=J.charCodeAt(H)}PDFView.open(I,0)};var D=E[0];A.readAsBinaryString(D);document.title=D.name;document.getElementById("viewBookmark").setAttribute("hidden","true");document.getElementById("download").setAttribute("hidden","true")},true);function selectScaleOption(E){var A=document.getElementById("scaleSelect").options;var D=false;for(var B=0;B<A.length;B++){var C=A[B];if(C.value!=E){C.selected=false;continue}C.selected=true;D=true}return D}window.addEventListener("localized",function localized(A){document.getElementsByTagName("html")[0].dir=mozL10n.language.direction},true);window.addEventListener("scalechange",function scalechange(A){var C=document.getElementById("customScaleOption");C.selected=false;if(!A.resetAutoSettings&&(document.getElementById("pageWidthOption").selected||document.getElementById("pageFitOption").selected||document.getElementById("pageAutoOption").selected)){updateViewarea();return }var B=selectScaleOption(""+A.scale);if(!B){C.textContent=Math.round(A.scale*10000)/100+"%";C.selected=true}updateViewarea()},true);window.addEventListener("pagechange",function pagechange(B){var F=B.pageNumber;if(document.getElementById("pageNumber").value!=F){document.getElementById("pageNumber").value=F;var D=document.querySelector(".thumbnail.selected");if(D){D.classList.remove("selected")}var H=document.getElementById("thumbnailContainer"+F);H.classList.add("selected");var C=PDFView.getVisibleThumbs();var A=C.length;if(A>0){var G=C[0].id;var E=A>1?C[A-1].id:G;if(F<=G||F>=E){H.scrollIntoView()}}}document.getElementById("previous").disabled=(F<=1);document.getElementById("next").disabled=(F>=PDFView.pages.length)},true);window.addEventListener("DOMMouseScroll",function(A){if(A.ctrlKey){A.preventDefault();var D=A.detail;var E=(D>0)?"zoomOut":"zoomIn";for(var B=0,C=Math.abs(D);B<C;B++){PDFView[E]()}}},false);window.addEventListener("keydown",function keydown(A){var D=false;var C=(A.ctrlKey?1:0)|(A.altKey?2:0)|(A.shiftKey?4:0)|(A.metaKey?8:0);if(C==1||C==8){switch(A.keyCode){case 61:case 107:case 187:PDFView.zoomIn();D=true;break;case 109:case 189:PDFView.zoomOut();D=true;break;case 48:PDFView.parseScale(kDefaultScale,true);D=true;break}}if(D){A.preventDefault();return }var B=document.activeElement;if(B&&B.tagName=="INPUT"){return }var E=document.getElementById("controls");while(B){if(B===E){return }B=B.parentNode}if(C==0){switch(A.keyCode){case 37:case 75:case 80:PDFView.page--;D=true;break;case 39:case 74:case 78:PDFView.page++;D=true;break}}if(D){A.preventDefault()}});window.addEventListener("beforeprint",function beforePrint(A){PDFView.beforePrint()});window.addEventListener("afterprint",function afterPrint(A){PDFView.afterPrint()});